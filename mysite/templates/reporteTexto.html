{%- extends "base.html" -%}
{%- block content -%}
            <div class="panel">
                {%- if viewName=="Reporte de Texto" -%}
                <form action='/reporteDeTexto' method="Post">
                    <input type="hidden" name="catalogo" id="catalogo">
                    <input type="hidden" name="ownerID" value="{{user['ownerID']}}">
                    <input type="hidden" name="inheritedID"  id="inheritedID"value="">
                    <input type="hidden" name="viewName" value="{{viewName}}">
                    <textarea  id="camposSolicitados" name="camposSolicitados" hidden></textarea>

                    <div class="botonera" style="height: 520px;">
                        <table border="0px" spacing=0 width="100%" cellpadding="0" cellspacing="0">
                                 <td align="center" colspan="3">Solo para Solicitudes</td>
                            <tr>
                                <td align="center" colspan="3">Campo Base para la Fecha:</td>
                            </tr>
                            <tr>
                                <td align="center" colspan="3">

                                        <select class="roundInput" id="fechaCriterio" name="fechaCriterio">
                                            <option value=""></option>
                                            {%- for campo in camposUnicos['Solicitudes'] -%}
                                                {%- if 'Fecha' in campo.label-%}
                                                <option value="{{campo.value}}">{{campo.label}}</option>
                                                {%-endif-%}
                                            {%- endfor -%}
                                        </select>
                                </td>
                            </tr>
                            <tr>
                                <td align="center">Desde:</td>
                                <td ></td>
                                <td align="center">Hasta:</td>
                                <td ></td>
                            </tr>


                            <tr>
                                <td  align="center">
                                     <input type="date" class="roundInput" id="fechaInicio" name="fechaInicio" min="2019-01-02"
                                     value="{{formData['fechaInicio']}}"></input>
                                </td>
                                <td></td>
                                <td  align="center">
                                    <input type="date" class="roundInput" id="fechaFin" name="fechaFin" min="2019-01-02" value="{{formData['fechaFin']}}"></input>
                                </td>
                            </tr>

                            <tr>
                                <td align="center">Criterio:</td>
                                <td ></td>
                                <td align="center">Valor:</td>
                                <td ></td>
                            </tr>

                            <tr>
                                <td align="center">
                                    <select class="roundInput" id="filtroCriterio1" name="filtroCriterio1" onchange="limpiarFiltroSolicitudes();">
                                        <option value=""></option>
                                        {%- for campo in camposUnicos['Solicitudes'] -%}
                                            <option value="{{campo.value}}">{{campo.label}}</option>
                                        {%- endfor -%}
                                    </select>
                                </td>

                                <td>
                                     <td width="48%" align="center">
                                        <input class="roundInput" id="filtroValor1" name="filtroValor1"></input>
                                    </td>

                                </td>
                            </tr>

                             <tr>
                                <td align="center">
                                    <select class="roundInput" id="filtroCriterio2" name="filtroCriterio2" onchange="limpiarFiltroSolicitudes();">
                                        <option value=""></option>
                                        {%- for campo in camposUnicos['Solicitudes'] -%}
                                            <option value="{{campo.value}}">{{campo.label}}</option>
                                        {%- endfor -%}
                                    </select>
                                </td>

                                <td>
                                     <td width="48%" align="center">
                                        <input class="roundInput" id="filtroValor2" name="filtroValor2"></input>
                                    </td>

                                </td>
                            </tr>

                            <tr>
                                <td align="center">
                                    <select class="roundInput" id="filtroCriterio3" name="filtroCriterio3" onchange="limpiarFiltroSolicitudes();">
                                        <option value=""></option>
                                        {%- for campo in camposUnicos['Solicitudes'] -%}
                                            <option value="{{campo.value}}">{{campo.label}}</option>
                                        {%- endfor -%}
                                    </select>
                                </td>

                                <td>
                                     <td width="48%" align="center">
                                        <input class="roundInput" id="filtroValor3" name="filtroValor3"></input>
                                    </td>

                                </td>
                            </tr>

                            <tr>
                                <td align="center" colspan="3">
                                    <div style="">
                                        <ul id="listaCamposSolicitados" class="roundList"></ul>
                                    </div>

                                </td>
                            </tr>

                            <tr>
                                <td align="center" colspan="3">
                                    <input type="submit" value="Descargar" name="accion" id="accion"></input>
                                </td>
                            </tr>




                        </table>
                    </div>
                </form>
                {%- endif -%}


                <!--********************************************************-->

                <div class="listadoItems" id="listadoCatalogos" name="listadoCatalogos">

                    {# %- for catalogo in camposUnicos|sort(attribute='userName') -% #}
                    {%- for catalogo in camposUnicos -%}
                        <form id={{catalogo}}>
                            <div class="solicitudItem"
                                 id="{{catalogo}}"
                                 onclick="document.getElementById('catalogo').value='{{catalogo}}';
                                          document.getElementById('listaCamposSolicitados').innerHTML='';
                                          expandirSolicitud(this);"
                                 collapsed="true">
                                <table border="0px" spacing=0 height="100%" width="100%" cellpadding="0" cellspacing="0">

                                    <tr>
                                        <td class="boldLabel"
                                            colspan="4"
                                            align="center">{{catalogo}}</td>
                                    </tr>

                                </table>
                            </div> <!-- FINALIZA <div class="solicitudItem"> -->





                            <!--********************************************************-->
                            <div class="detalleSolicitudItem" id="detalleSolicitud_{{catalogo}}">
                                <table id="tablaDetalleSolicitud_{{catalogo}}" border="0px" spacing=0 width="100%" cellpadding="0" cellspacing="0">
                                    {%- for campo in camposUnicos[catalogo] -%}

                                                <td>
                                                    <input id="{{campo.value}}"
                                                           name="id"
                                                           class="roundInput"
                                                           readonly
                                                           value="{{campo.label}}"
                                                    >
                                                </td>
                                                <td align="right" style="padding-right: 6px; width: 54px;">
                                                    <label class="switch">
                                                        <input type="checkbox"
                                                            id="{{campo.value}}"
                                                            name="{{campo.value}}"
                                                            onchange="agregarAListaDeCampos(this,'{{campo.value}}','{{campo.label}}','listaCamposSolicitados','CamposSolicitudes')"
                                                        >
                                                        <span class="slider round"></span>
                                                    </label>
                                                </td>

                                                </tr>


                                   {%- endfor -%}




                                </table>{# FINALIZA <table border="0" id="tablaDetalleSolicitud"> #}

                            </div> <!-- FINALIZA <div class="detalleSolicitudItem"> -->

                                <!--********************************************************-->

                        </form>


                    {%- endfor -%}
                    {# <div class="solicitudItem" id="espacioFinal"></div> #}
                </div>
            </div>  <!--Finaliza panel de Solicitudes-->


{%- endblock -%}




