
{%- extends "base.html" -%}
{%- block content -%}
    
    <!-- El siguiente Div es para tener un encabezado fijo -->
    <div style="height:120px;  width:100%; overflow-y: scroll; overflow-x: scroll; position: absolute; background-color: #dcdcdc; z-index: 2;">
        <div class="botoneraLarga">
            <form id="reporteVentasCSV" action="/reporteVentasCSV" method="Post">
                    <input type="hidden" name="ownerID" value="{{user['ownerID']}}">    
                    <input type="hidden" name="inheritedID"  id="inheritedID"value="">
                    <input type="hidden" name="viewName" value="{{viewName}}">
                    
                    <table  border="0" spacing=0  cellpadding="0" cellspacing="0">
                        <tr> 
                            <td width="150px" align="center">Criterio</td>  
                            <td ></td>
                            <td width="150px" align="center">Valor</td>
                            <td></td> 
                            <td align="center">Desde:</td>  
                            <td ></td>
                            <td align="center">Hasta:</td>
                            <td ></td> 
                            <td align="center" rowspan="2">
                                <input type="submit" value="Consultar" name="accion" id="accion">
                            </td> 
                            <td ></td>
                            <td align="center" rowspan="2">
                                <input type="submit" value="Descargar" name="accion" id="accion">
                            </td> 
                        </tr>
                        <tr>
                            <td align="center">
                            <select class="roundInput" id="filtroCriterio" name="filtroCriterio" onchange="limpiarFiltroReporte();">
                                {%- for campo in listaCamposFiltro|sort(attribute='label') -%}
                                    {%- if (campo.filterOption=="true")-%}
                                        <option value="{{campo.value}}">{{campo.label}}</option>
                                    {%-endif-%}    
                                {%- endfor -%}
                            </select>
                            </td>  
                            <td></td>
                            <td  align="center">
                                <input class="roundInput" id="filtroValor" name="filtroValor" onchange="filtrarReporte(reporte,'filtroCriterio',this.value);"></input>
                            </td>
                            <td></td>
                            <td  align="center">
                                 <input type="date" class="roundInput" id="fechaInicio" name="fechaInicio" min="2019-01-02"
                                 value="{{formData['fechaInicio']}}"></input>
                            </td>  
                            <td></td>
                            <td  align="center">
                                <input type="date" class="roundInput" id="fechaFin" name="fechaFin" min="2019-01-02" value="{{formData['fechaFin']}}"></input>
                            </td>
                        </tr>
                    </table>
            </form>
               
        </div>
        <table  border="1" 
                cellspacing="0"
                id="tablaEncabezadoReporte"
                bgcolor="#dcdcdc"
                style="width: calc(100% - 16px);">
                <tr style="height: 54px;">
                    {%- for campo in headers -%}
                    <th style="font-weight: bold; font-size: 9px">
                        {{campo}}
                    </th>
                    {%-endfor-%}      
               </tr>
        </table>
        
    </div>


    
   
    <div id="panelLogs" style="height:calc(100% - 60px); overflow-y: scroll; top: 65px; position: absolute; z-index:1;" >   
            
            <table id="tablaReporte" border="1" cellspacing="0" style="width: calc(100% - 4px);">
                <tr style="height: 54px;">
                    {%- for campo in headers -%}
                    <th style="font-weight: bold; font-size: 9px">
                        {{campo}}
                    </th>
                    {%-endfor-%}      
                </tr>
               {%- for registro in listaRegistros-%}
                    <tr>
                        {%- for campo in headers -%}
                            <td style="font-weight: bold; font-size: 9px">
                               {{registro[campo]}}
                            </td>
                        {%-endfor-%}  
                    </tr>

               {%- endfor-%}
           </table>
    </div>


    

            


    


    
{%- endblock -%}




 